<% pub = Publication %>

<h1><%= t('labels.publications') %></h1>

<% if @publications.present? %>
  <ul>
    <% @publications.each do |publication| %>
      <li>
        <div>
          <%= link_to publication_path(publication) do %>
            <%= image_tag publication.cover_image.thumb('100x100#').url if publication.cover_image_stored? %>
          <% end %>
        </div>
        <div>
          <%= link_to publication.title, publication_path(publication) %>
        </div>
        <ul>
          <li>
            <strong><%= t('labels.meta.publication_type') %>:</strong>
            <%= pub.human_enum_name(:publication_type, publication.publication_type) %>
          </li>
          <li>
            <strong><%= t('labels.meta.publication_language') %>:</strong>
            <%= publication.publication_language.language %>
          </li>
          <% if publication.journal? %>
            <li>
              <strong><%= t('labels.meta.issue_count') %>:</strong>
              <%= number_with_delimiter(publication.issue_count) %>
            </li>
          <% end %>
          <li>
            <strong><%= t('labels.meta.illustration_count') %>:</strong>
            <%= number_with_delimiter(publication.illustration_count) %>
          </li>
        </ul>
      </li>
    <% end %>
  </ul>
<% else %>

  <p><%= t('messages.no_data') %></p>

<% end %>