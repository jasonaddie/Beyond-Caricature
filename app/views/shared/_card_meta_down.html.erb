<%
  # required variables
  link_path ||= root_path
  title ||= nil
  summary ||= nil
  type ||= nil
  cover_image_path ||= nil
  publish_date ||= nil
  language ||= nil
  date ||= nil
  date_label ||= nil
  illustration_count ||= nil
  issue_count ||= nil
%>

<div class="card card-meta-down">
  <% if cover_image_path %>
    <div class="card-image">
      <figure class="">
        <%= link_to link_path do %>
          <%= image_tag cover_image_path, alt: title %>
        <% end %>
      </figure>
    </div>
  <% end %>
  <div class="card-content">
    <%= link_to title, link_path, class: 'has-text-weight-semibold card-title' %>

    <div class="content">
      <% if type.present? %>
        <div>
          <strong><%= "#{t('labels.type')}:" %></strong>
          <%= type %>
        </div>
      <% end %>
      <% if date.present? && date_label.present? %>
        <div>
          <strong><%= "#{date_label}:" %></strong>
          <%= date %>
        </div>
      <% end %>
      <% if language.present? %>
        <div>
          <strong><%= "#{t('labels.meta.publication_language')}:" %></strong>
          <%= language %>
        </div>
      <% end %>
      <% if publish_date %>
        <div>
          <strong><%= "#{t('labels.publication_date')}:" %></strong>
          <%= I18n.l publish_date %>
        </div>
      <% end %>
      <% if issue_count.present? && issue_count > 0 %>
        <div>
          <strong><%= "#{t('labels.meta.issue_count')}:" %></strong>
          <%= number_with_delimiter(issue_count) %>
        </div>
      <% end %>
      <% if illustration_count.present? && illustration_count > 0 %>
        <div>
          <strong><%= "#{t('labels.meta.illustration_count')}:" %></strong>
          <%= number_with_delimiter(illustration_count) %>
        </div>
      <% end %>
      <% if summary.present? %>
        <div>
          <%= truncate(strip_tags(summary), length: 100) %>
        </div>
      <% end %>
    </div>
  </div>
</div>